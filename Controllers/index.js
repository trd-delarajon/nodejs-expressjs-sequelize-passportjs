const models = require('../models');exports.index = function(req, res, next) {
  	return models.Lead.findAll().then(leads => {		res.render('index', {title: 'Express', user: req.user});	})
}exports.submit_email = function(req, res, next) {	return models.Lead.create({		email: req.body.email	}).then(lead => {		res.redirect('/leads');	})}exports.show_leads = function(req, res, next) {	return models.Lead.findAll().then(leads => {		res.render('index', {title: 'Express', leads: leads});	})}exports.show_lead = function(req, res, next) {	return models.Lead.findOne({		where: {id : req.params.lead_id}	}).then(lead => {		res.render('lead', {lead: lead});	});}exports.show_lead_edit = function(req, res, next) {	return models.Lead.findOne({		where: {id : req.params.lead_id}	}).then(lead => {		res.render('show_lead_edit', {lead: lead});	});}exports.lead_edit = function(req, res, next) {	return models.Lead.update({		email: req.body.email	}, {		where: {			id: req.params.lead_id		}	}).then(resutl => {		res.redirect('/lead/'+ req.params.lead_id)	})}exports.lead_delete = function(req, res, next){	return models.Lead.destroy({		where:{			id: req.params.lead_id		}	}).then(result => {		res.redirect('/leads');	});}exports.lead_delete_ajax = function(req, res, next){	return models.Lead.destroy({		where: {			id: req.params.lead_id		}	}).then(result => {		res.send({msg:"Success"});	})}